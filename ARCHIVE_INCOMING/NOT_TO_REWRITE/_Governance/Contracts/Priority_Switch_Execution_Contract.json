{
  "contract": "Priority Switch Execution Contract (P2 <-> P1)",
  "status": "AUTHORITATIVE Â· NON-BYPASSABLE",
  "spine_step": "PRIORITY_SWITCH",
  "scope": "Mode transition between passive (P2) and active (P1) operation",
  "ordering_guarantee": [
    "PASSIVE_RUNTIME_INITIALIZATION_COMPLETE",
    "P1_ACTIVE_INTERACTION_AVAILABLE",
    "PRIORITY_SWITCH_AVAILABLE"
  ],
  "identity_invariants": {
    "identity_state": "FROZEN",
    "explicit_prohibitions": [
      "identity_issuance",
      "identity_derivation",
      "identity_rebinding",
      "hash_rotation",
      "authority_escalation"
    ]
  },
  "switch_semantics": {
    "trigger": "user_input_detected",
    "direction": "P2_to_P1",
    "requirements": [
      "pause_all_P2_operations",
      "checkpoint_P2_metadata_only",
      "flush_P2_logs",
      "enter_P1_mode_exclusively"
    ],
    "prohibitions": [
      "concurrent_P1_and_P2_execution",
      "state_mutation_during_switch",
      "user_input_during_transition"
    ]
  },
  "resume_semantics": {
    "trigger": "P1_termination",
    "direction": "P1_to_P2",
    "requirements": [
      "finalize_P1_logs",
      "release_P1_context",
      "resume_P2_operations_from_checkpoint"
    ],
    "prohibitions": [
      "carryover_P1_state_into_P2_execution",
      "implicit_learning_or_persistence"
    ]
  },
  "logging_and_audit": {
    "log_domains": ["P1", "P2"],
    "separation": "strict",
    "requirements": [
      "distinct_log_streams",
      "timestamped_switch_events",
      "audit_events_on_violation"
    ]
  },
  "filesystem_constraints": {
    "write_scope": "Logos_System_Rebuild",
    "violation": "immediate_halt"
  },
  "failure_semantics": {
    "mode": "FAIL_CLOSED",
    "on_violation": [
      "halt_all_execution",
      "emit_audit_event",
      "return_error_if_user_facing"
    ]
  },
  "explicit_prohibitions": [
    "protocol_activation"
  ],
  "explicit_non_goals": [
    "task_scheduling",
    "background_execution",
    "learning",
    "memory_persistence",
    "protocol_activation"
  ]
}
